cmake_minimum_required(VERSION 3.17)
project(libceu VERSION 0.1 LANGUAGES C)
set(CMAKE_C_STANDARD 11)

if (EXISTS "${CMAKE_CURRENT_LIST_DIR}/cmake_vars.cmake")
    message(STATUS "Including cmake_vars.cmake")
    include("${CMAKE_CURRENT_LIST_DIR}/cmake_vars.cmake")
endif ()

include("${CMAKE_CURRENT_LIST_DIR}/cmake_collections/enable_debug.cmake")
include("${CMAKE_CURRENT_LIST_DIR}/cmake_collections/test_c_helloworld.cmake")

if (${CEU_CM_HAVE_WORKING_C_HELLOWORLD_RUN_SHARED} EQUAL 0)
    set(LIBCEU_BUILD_SHARED TRUE CACHE BOOL "")
    message(STATUS "LIBCEU: Will build shared libceu")
else ()
	set(LIBCEU_BUILD_SHARED FALSE CACHE BOOL "")
    message(STATUS "LIBCEU: Will NOT build shared libceu!")
endif ()

if (${CEU_CM_HAVE_WORKING_C_HELLOWORLD_RUN_STATIC} EQUAL 0)
    set(LIBCEU_BUILD_STATIC TRUE CACHE BOOL "")
    message(STATUS "LIBCEU: Will build static libceu")
else ()
	set(LIBCEU_BUILD_STATIC FALSE CACHE BOOL "")
    message(STATUS "LIBCEU: Will NOT build static libceu")
endif ()

include("${CMAKE_CURRENT_LIST_DIR}/cmake/libceu.cmake")
add_subdirectory("${CMAKE_CURRENT_LIST_DIR}/lib/")
add_subdirectory("${CMAKE_CURRENT_LIST_DIR}/bin/")
